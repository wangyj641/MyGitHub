"use client"

import type { Metadata } from 'next'
import { Inter } from 'next/font/google'
import './globals.css'
import StyledComponentsRegistry from '../lib/AntdRegistry'
import { Input, Layout, Icon, Avatar } from 'antd'
import { Children, useCallback, useState } from 'react'
import { IconMap } from 'antd/es/result'

const { Header, Content, Footer } = Layout
const { Search } = Input;

const inter = Inter({ subsets: ['latin'] })

//export const metadata: Metadata = {
//  title: 'Create  Next App',
//  description: 'Generated by create next app',
//}

const githubIconStyle = {
  color: 'white',
  fontSize: 40,
  display: 'block',
  paddingTop: 10,
  marginRight: 20
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {

  const [search, SetSearch] = useState('')
  const handleSearchChange = useCallback((event) => {
    SetSearch(event.target.value)
  }, [SetSearch],)

  const handleOnSearch = useCallback(() => { }, [])

  return (
    <html lang="en" className='h-full'>
      <body className='w-full h-full content-center'>
        <StyledComponentsRegistry>
          <Layout>
            <Header>
              <div className='flex justify-between content-center'>
                <div className='flex justify-start content-center w-60'>
                  <div className='w-16 content-center'>
                    <Icon type='github' style={githubIconStyle} />
                  </div>
                  <div className='flex content-center'>
                    <Search placeholder='search github' value={search} onChange={handleSearchChange} onSearch={handleOnSearch} />
                  </div>
                </div>
                <div className='flex justify-end w-28'>
                  <Avatar size={40} icon='user' />
                </div>
              </div>
            </Header>
            <Content>
              <div className='flex-grow flex-1'>
                {children}
              </div>
            </Content>
            <Footer>
              <div className='text-[24px] text-center text-middle text-cyan-400'>
                Developed by Yongjun Wang @
                <a href='mailto: wangyj641@gmail.com'>wangyj641@gmail.com</a>
              </div>
            </Footer>
          </Layout>
        </StyledComponentsRegistry>
      </body>
    </html>
  )
}
